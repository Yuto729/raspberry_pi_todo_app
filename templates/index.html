{% extends "base.html" %}

{% block content %}
<header>
    <h1>TODO</h1>
</header>

<main>
    <form
        hx-post="/api/tasks/htmx"
        hx-target="#task-list"
        hx-swap="afterbegin"
        hx-on::after-request="if(event.detail.successful) this.reset()"
        class="task-form"
    >
        <input
            type="text"
            name="title"
            placeholder="新しいタスクを入力..."
            required
            autofocus
            class="task-input"
        >
        <button type="submit" class="add-btn">+</button>
    </form>

    <ul
        id="task-list"
        hx-get="/api/tasks/htmx?status=todo"
        hx-trigger="load"
        hx-swap="innerHTML"
    >
    </ul>
</main>
{% endblock %}
